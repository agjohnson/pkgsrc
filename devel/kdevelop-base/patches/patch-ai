$NetBSD: patch-ai,v 1.6 2009/08/15 17:04:52 wiz Exp $

--- vcs/clearcase/clearcasemanipulator.cpp.orig	2008-03-30 00:56:29.000000000 +0000
+++ vcs/clearcase/clearcasemanipulator.cpp
@@ -20,10 +20,10 @@
 #include <libgen.h>
 #include <errno.h>
 
-#if defined(Q_OS_MACX) || defined(MACOSX) || defined(Q_OS_SOLARIS) || defined(Q_OS_FREEBSD)
+#if defined(Q_OS_MACX) || defined(MACOSX) || defined(Q_OS_SOLARIS) || defined(Q_OS_FREEBSD) || defined(__NetBSD__) || defined(__DragonFly__)
 //this function is taken from GNU libc
 //it does not exist on macos
-int getline(char **lineptr, size_t *n, FILE *stream)
+int get_line(char **lineptr, size_t *n, FILE *stream)
 {
     static char line[256];
     char *ptr;
@@ -95,7 +95,7 @@ VCSFileInfoMap* ClearcaseManipulator::re
   char* line = NULL;
   size_t numRead;
   while (!feof(outputFile)) {
-    getline(&line,&numRead,outputFile);
+    get_line(&line,&numRead,outputFile);
 
     if (numRead > 0) {
       int pos = 0;
