--- src/iohandler.c.orig	Tue Oct 29 06:52:25 1996
+++ src/iohandler.c	Tue Sep  9 15:36:34 1997
@@ -131,7 +131,7 @@
         }
 	sockproc[fd] = callback;
 #else
-	Tcl_CreateFileHandler(Tcl_GetFile((ClientData)fd, TCL_UNIX_FD),
+	Tcl_CreateFileHandler(fd,
 			      mask, callback, (ClientData)fd);
 #endif
 }
@@ -144,6 +144,6 @@
 		(void) WSAAsyncSelect(fd, sockwin, 0, 0);
 	}
 #else
-	Tcl_DeleteFileHandler(Tcl_GetFile((ClientData)fd, TCL_UNIX_FD));
+	Tcl_DeleteFileHandler(fd);
 #endif
 }
