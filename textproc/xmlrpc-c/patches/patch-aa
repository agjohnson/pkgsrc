$NetBSD: patch-aa,v 1.4 2009/11/05 21:04:54 joerg Exp $

--- Makefile.common.orig	2007-07-13 02:32:20.000000000 +0200
+++ Makefile.common
@@ -28,15 +28,15 @@ GCC_CXX_WARNINGS = $(GCC_WARNINGS) -Wove
 # assertion and crash the program if it isn't really true.  You can add
 # -UNDEBUG (in any of various ways) to override this.
 #
-CFLAGS_COMMON = -DNDEBUG
-CXXFLAGS_COMMON = -DNDEBUG
+CFLAGS_COMMON += -DNDEBUG
+CXXFLAGS_COMMON += -DNDEBUG
 
 ifeq ($(C_COMPILER_GNU),yes)
-  CFLAGS_COMMON += $(GCC_C_WARNINGS) -fno-common -g -O3
+  CFLAGS_COMMON += $(GCC_C_WARNINGS) -fno-common
 endif
 
 ifeq ($(CXX_COMPILER_GNU),yes)
-  CXXFLAGS_COMMON += $(GCC_CXX_WARNINGS) -g
+  CXXFLAGS_COMMON += $(GCC_CXX_WARNINGS)
 endif
 
 DISTDIR = $(BUILDDIR)/$(PACKAGE)-$(VERSION)/$(SUBDIR)
@@ -116,10 +116,8 @@ ifneq ($(ENABLE_LIBXML2_BACKEND),yes)
   # We're using the internal Expat XML parser
   LIBXMLRPC_XML = $(LIBXMLRPC_XMLPARSE) $(LIBXMLRPC_XMLTOK)
   LDLIBS_XML = \
-        -L$(BUILDDIR)/lib/expat/xmlparse/.libs \
-	-lxmlrpc_xmlparse \
-        -L$(BUILDDIR)/lib/expat/xmltok/.libs \
-	-lxmlrpc_xmltok
+        $(BUILDDIR)/lib/expat/xmlparse/libxmlrpc_xmlparse.la \
+        $(BUILDDIR)/lib/expat/xmltok/libxmlrpc_xmltok.la
 else
   LDLIBS_XML = $(shell xml2-config --libs)
 endif
