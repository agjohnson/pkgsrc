$NetBSD: patch-ab,v 1.14 2009/09/08 20:22:03 drochner Exp $

--- configure.orig	2009-08-28 22:05:53.000000000 +0200
+++ configure
@@ -21808,6 +21808,9 @@ main ()
 #error GCC before 3.4 has critical bugs compiling inline assembly
 #endif
 #endif
+#ifdef __SUNPRO_C
+#error Sun Studio cannot handle assembly in this package
+#endif
 __asm__ (""::)
   ;
   return 0;
@@ -22043,7 +22046,7 @@ $as_echo "#define HAVE_MMAP 1" >>confdef
 fi
 rm -f conftest.mmap
 
- if test "x$ac_cv_func_mmap_fixed_mapped" == "xyes"; then
+ if test "x$ac_cv_func_mmap_fixed_mapped" = "xyes"; then
   GST_HAVE_MMAP_TRUE=
   GST_HAVE_MMAP_FALSE='#'
 else
@@ -23411,7 +23414,7 @@ rm -f core conftest.err conftest.$ac_obj
 $as_echo "$flag_ok" >&6; }
 
 
-        if test "x$ERROR_CFLAGS" == "x"
+        if test "x$ERROR_CFLAGS" = "x"
     then
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking to see if compiler understands -errwarn=%all" >&5
@@ -26464,6 +26467,10 @@ $as_echo_n "checking struct v4l2_buffer 
 #ifdef __sun /* Solaris */
 #include <sys/types.h>
 #include <sys/videodev2.h>
+#elif defined(__NetBSD__)
+#include <sys/videoio.h>
+#elif defined(__NetBSD__)
+#include <sys/videoio.h>
 #else /* Linux */
 #include <linux/types.h>
 #define _LINUX_TIME_H
